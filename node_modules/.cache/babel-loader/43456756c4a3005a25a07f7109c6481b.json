{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _defineProperty from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"open\", \"onClose\", \"initialFocus\", \"__demoMode\"];\nimport u, { createContext as ae, createRef as se, useContext as V, useEffect as F, useMemo as h, useReducer as pe, useRef as I, useState as de } from \"react\";\nimport { match as k } from \"../../utils/match.js\";\nimport { forwardRefWithAs as A, render as E, Features as K } from \"../../utils/render.js\";\nimport { useSyncRefs as b } from \"../../hooks/use-sync-refs.js\";\nimport { Keys as ue } from \"../keyboard.js\";\nimport { isDisabledReactIssue7711 as fe } from \"../../utils/bugs.js\";\nimport { useId as C } from \"../../hooks/use-id.js\";\nimport { FocusTrap as O } from \"../../components/focus-trap/focus-trap.js\";\nimport { useInertOthers as ge } from \"../../hooks/use-inert-others.js\";\nimport { Portal as x } from \"../../components/portal/portal.js\";\nimport { ForcePortalRoot as H } from \"../../internal/portal-force-root.js\";\nimport { Description as ce, useDescriptions as Te } from \"../description/description.js\";\nimport { useOpenClosed as me, State as q } from \"../../internal/open-closed.js\";\nimport { useServerHandoffComplete as De } from \"../../hooks/use-server-handoff-complete.js\";\nimport { StackProvider as Pe, StackMessage as z } from \"../../internal/stack-context.js\";\nimport { useOutsideClick as ye } from \"../../hooks/use-outside-click.js\";\nimport { getOwnerDocument as Re } from \"../../utils/owner.js\";\nimport { useOwnerDocument as he } from \"../../hooks/use-owner.js\";\nimport { useEventListener as ve } from \"../../hooks/use-event-listener.js\";\nimport { Hidden as Ae, Features as Ee } from \"../../internal/hidden.js\";\nimport { useEvent as S } from \"../../hooks/use-event.js\";\n\nvar be = function (t) {\n  return t[t.Open = 0] = \"Open\", t[t.Closed = 1] = \"Closed\", t;\n}(be || {}),\n    Ce = function (e) {\n  return e[e.SetTitleId = 0] = \"SetTitleId\", e;\n}(Ce || {});\n\nvar Oe = _defineProperty({}, 0, function _(i, e) {\n  return i.titleId === e.id ? i : _objectSpread(_objectSpread({}, i), {}, {\n    titleId: e.id\n  });\n}),\n    M = ae(null);\n\nM.displayName = \"DialogContext\";\n\nfunction L(i) {\n  var e = V(M);\n\n  if (e === null) {\n    var t = new Error(\"<\".concat(i, \" /> is missing a parent <Dialog /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(t, L), t;\n  }\n\n  return e;\n}\n\nfunction Se(i, e) {\n  return k(e.type, Oe, i, e);\n}\n\nvar Le = \"div\",\n    we = K.RenderStrategy | K.Static,\n    Fe = A(function (e, t) {\n  var _k;\n\n  var o = e.open,\n      n = e.onClose,\n      d = e.initialFocus,\n      _e$__demoMode = e.__demoMode,\n      g = _e$__demoMode === void 0 ? !1 : _e$__demoMode,\n      c = _objectWithoutProperties(e, _excluded),\n      _de = de(0),\n      _de2 = _slicedToArray(_de, 2),\n      m = _de2[0],\n      D = _de2[1],\n      v = me();\n\n  o === void 0 && v !== null && (o = k(v, (_k = {}, _defineProperty(_k, q.Open, !0), _defineProperty(_k, q.Closed, !1), _k)));\n  var a = I(new Set()),\n      f = I(null),\n      J = b(f, t),\n      W = I(null),\n      P = he(f),\n      B = e.hasOwnProperty(\"open\") || v !== null,\n      G = e.hasOwnProperty(\"onClose\");\n  if (!B && !G) throw new Error(\"You have to provide an `open` and an `onClose` prop to the `Dialog` component.\");\n  if (!B) throw new Error(\"You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.\");\n  if (!G) throw new Error(\"You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.\");\n  if (typeof o != \"boolean\") throw new Error(\"You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: \".concat(o));\n  if (typeof n != \"function\") throw new Error(\"You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: \".concat(n));\n\n  var s = o ? 0 : 1,\n      _pe = pe(Se, {\n    titleId: null,\n    descriptionId: null,\n    panelRef: se()\n  }),\n      _pe2 = _slicedToArray(_pe, 2),\n      y = _pe2[0],\n      Q = _pe2[1],\n      R = S(function () {\n    return n(!1);\n  }),\n      U = S(function (r) {\n    return Q({\n      type: 0,\n      id: r\n    });\n  }),\n      _ = De() ? g ? !1 : s === 0 : !1,\n      w = m > 1,\n      $ = V(M) !== null,\n      X = w ? \"parent\" : \"leaf\";\n\n  ge(f, w ? _ : !1), ye(function () {\n    var l, p;\n    return [].concat(_toConsumableArray(Array.from((l = P == null ? void 0 : P.querySelectorAll(\"body > *, [data-headlessui-portal]\")) != null ? l : []).filter(function (T) {\n      return !(!(T instanceof HTMLElement) || T.contains(W.current) || y.panelRef.current && T.contains(y.panelRef.current));\n    })), [(p = y.panelRef.current) != null ? p : f.current]);\n  }, R, _ && !w), ve(P == null ? void 0 : P.defaultView, \"keydown\", function (r) {\n    r.defaultPrevented || r.key === ue.Escape && s === 0 && (w || (r.preventDefault(), r.stopPropagation(), R()));\n  }), F(function () {\n    var j;\n    if (s !== 0 || $) return;\n    var r = Re(f);\n    if (!r) return;\n    var l = r.documentElement,\n        p = (j = r.defaultView) != null ? j : window,\n        T = l.style.overflow,\n        le = l.style.paddingRight,\n        Y = p.innerWidth - l.clientWidth;\n\n    if (l.style.overflow = \"hidden\", Y > 0) {\n      var ne = l.clientWidth - l.offsetWidth,\n          ie = Y - ne;\n      l.style.paddingRight = \"\".concat(ie, \"px\");\n    }\n\n    return function () {\n      l.style.overflow = T, l.style.paddingRight = le;\n    };\n  }, [s, $]), F(function () {\n    if (s !== 0 || !f.current) return;\n    var r = new IntersectionObserver(function (l) {\n      var _iterator = _createForOfIteratorHelper(l),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n          p.boundingClientRect.x === 0 && p.boundingClientRect.y === 0 && p.boundingClientRect.width === 0 && p.boundingClientRect.height === 0 && R();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    });\n    return r.observe(f.current), function () {\n      return r.disconnect();\n    };\n  }, [s, f, R]);\n\n  var _Te = Te(),\n      _Te2 = _slicedToArray(_Te, 2),\n      Z = _Te2[0],\n      ee = _Te2[1],\n      te = \"headlessui-dialog-\".concat(C()),\n      oe = h(function () {\n    return [{\n      dialogState: s,\n      close: R,\n      setTitleId: U\n    }, y];\n  }, [s, y, R, U]),\n      N = h(function () {\n    return {\n      open: s === 0\n    };\n  }, [s]),\n      re = {\n    ref: J,\n    id: te,\n    role: \"dialog\",\n    \"aria-modal\": s === 0 ? !0 : void 0,\n    \"aria-labelledby\": y.titleId,\n    \"aria-describedby\": Z\n  };\n\n  return u.createElement(Pe, {\n    type: \"Dialog\",\n    element: f,\n    onUpdate: S(function (r, l, p) {\n      var _k2;\n\n      l === \"Dialog\" && k(r, (_k2 = {}, _defineProperty(_k2, z.Add, function () {\n        a.current.add(p), D(function (T) {\n          return T + 1;\n        });\n      }), _defineProperty(_k2, z.Remove, function () {\n        a.current.add(p), D(function (T) {\n          return T - 1;\n        });\n      }), _k2));\n    })\n  }, u.createElement(H, {\n    force: !0\n  }, u.createElement(x, null, u.createElement(M.Provider, {\n    value: oe\n  }, u.createElement(x.Group, {\n    target: f\n  }, u.createElement(H, {\n    force: !1\n  }, u.createElement(ee, {\n    slot: N,\n    name: \"Dialog.Description\"\n  }, u.createElement(O, {\n    initialFocus: d,\n    containers: a,\n    features: _ ? k(X, {\n      parent: O.features.RestoreFocus,\n      leaf: O.features.All & ~O.features.FocusLock\n    }) : O.features.None\n  }, E({\n    ourProps: re,\n    theirProps: c,\n    slot: N,\n    defaultTag: Le,\n    features: we,\n    visible: s === 0,\n    name: \"Dialog\"\n  })))))))), u.createElement(Ae, {\n    features: Ee.Hidden,\n    ref: W\n  }));\n}),\n    ke = \"div\",\n    Me = A(function (e, t) {\n  var _L = L(\"Dialog.Overlay\"),\n      _L2 = _slicedToArray(_L, 1),\n      _L2$ = _L2[0],\n      o = _L2$.dialogState,\n      n = _L2$.close,\n      d = b(t),\n      g = \"headlessui-dialog-overlay-\".concat(C()),\n      c = S(function (a) {\n    if (a.target === a.currentTarget) {\n      if (fe(a.currentTarget)) return a.preventDefault();\n      a.preventDefault(), a.stopPropagation(), n();\n    }\n  }),\n      m = h(function () {\n    return {\n      open: o === 0\n    };\n  }, [o]);\n\n  return E({\n    ourProps: {\n      ref: d,\n      id: g,\n      \"aria-hidden\": !0,\n      onClick: c\n    },\n    theirProps: e,\n    slot: m,\n    defaultTag: ke,\n    name: \"Dialog.Overlay\"\n  });\n}),\n    _e = \"div\",\n    Ie = A(function (e, t) {\n  var _L3 = L(\"Dialog.Backdrop\"),\n      _L4 = _slicedToArray(_L3, 2),\n      o = _L4[0].dialogState,\n      n = _L4[1],\n      d = b(t),\n      g = \"headlessui-dialog-backdrop-\".concat(C());\n\n  F(function () {\n    if (n.panelRef.current === null) throw new Error(\"A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.\");\n  }, [n.panelRef]);\n  var c = h(function () {\n    return {\n      open: o === 0\n    };\n  }, [o]);\n  return u.createElement(H, {\n    force: !0\n  }, u.createElement(x, null, E({\n    ourProps: {\n      ref: d,\n      id: g,\n      \"aria-hidden\": !0\n    },\n    theirProps: e,\n    slot: c,\n    defaultTag: _e,\n    name: \"Dialog.Backdrop\"\n  })));\n}),\n    xe = \"div\",\n    He = A(function (e, t) {\n  var _L5 = L(\"Dialog.Panel\"),\n      _L6 = _slicedToArray(_L5, 2),\n      o = _L6[0].dialogState,\n      n = _L6[1],\n      d = b(t, n.panelRef),\n      g = \"headlessui-dialog-panel-\".concat(C()),\n      c = h(function () {\n    return {\n      open: o === 0\n    };\n  }, [o]),\n      m = S(function (a) {\n    a.stopPropagation();\n  });\n\n  return E({\n    ourProps: {\n      ref: d,\n      id: g,\n      onClick: m\n    },\n    theirProps: e,\n    slot: c,\n    defaultTag: xe,\n    name: \"Dialog.Panel\"\n  });\n}),\n    We = \"h2\",\n    Be = A(function (e, t) {\n  var _L7 = L(\"Dialog.Title\"),\n      _L8 = _slicedToArray(_L7, 1),\n      _L8$ = _L8[0],\n      o = _L8$.dialogState,\n      n = _L8$.setTitleId,\n      d = \"headlessui-dialog-title-\".concat(C()),\n      g = b(t);\n\n  F(function () {\n    return n(d), function () {\n      return n(null);\n    };\n  }, [d, n]);\n  var c = h(function () {\n    return {\n      open: o === 0\n    };\n  }, [o]);\n  return E({\n    ourProps: {\n      ref: g,\n      id: d\n    },\n    theirProps: e,\n    slot: c,\n    defaultTag: We,\n    name: \"Dialog.Title\"\n  });\n}),\n    mt = Object.assign(Fe, {\n  Backdrop: Ie,\n  Panel: He,\n  Overlay: Me,\n  Title: Be,\n  Description: ce\n});\nexport { mt as Dialog };","map":null,"metadata":{},"sourceType":"module"}