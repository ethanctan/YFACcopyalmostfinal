{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _defineProperty from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/home/arthur/yfac-2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"defaultIndex\", \"vertical\", \"manual\", \"onChange\", \"selectedIndex\"];\n\nvar _ne;\n\nimport _, { Fragment as Y, createContext as O, useContext as k, useMemo as E, useReducer as Z, useRef as G } from \"react\";\nimport { render as M, Features as V, forwardRefWithAs as v } from \"../../utils/render.js\";\nimport { useId as q } from \"../../hooks/use-id.js\";\nimport { match as J } from \"../../utils/match.js\";\nimport { Keys as T } from \"../../components/keyboard.js\";\nimport { focusIn as S, Focus as m, sortByDomNode as Q } from \"../../utils/focus-management.js\";\nimport { useIsoMorphicEffect as j } from \"../../hooks/use-iso-morphic-effect.js\";\nimport { useSyncRefs as F } from \"../../hooks/use-sync-refs.js\";\nimport { useResolveButtonType as ee } from \"../../hooks/use-resolve-button-type.js\";\nimport { useLatestValue as W } from \"../../hooks/use-latest-value.js\";\nimport { FocusSentinel as te } from \"../../internal/focus-sentinel.js\";\nimport { useEvent as U } from \"../../hooks/use-event.js\";\n\nvar re = function (n) {\n  return n[n.SetSelectedIndex = 0] = \"SetSelectedIndex\", n[n.RegisterTab = 1] = \"RegisterTab\", n[n.UnregisterTab = 2] = \"UnregisterTab\", n[n.RegisterPanel = 3] = \"RegisterPanel\", n[n.UnregisterPanel = 4] = \"UnregisterPanel\", n[n.ForceRerender = 5] = \"ForceRerender\", n;\n}(re || {});\n\nvar ne = (_ne = {}, _defineProperty(_ne, 0, function _(e, t) {\n  var r = e.tabs.filter(function (n) {\n    var l;\n    return !((l = n.current) != null && l.hasAttribute(\"disabled\"));\n  });\n  if (t.index < 0) return _objectSpread(_objectSpread({}, e), {}, {\n    selectedIndex: e.tabs.indexOf(r[0])\n  });\n  if (t.index > e.tabs.length) return _objectSpread(_objectSpread({}, e), {}, {\n    selectedIndex: e.tabs.indexOf(r[r.length - 1])\n  });\n  var s = e.tabs.slice(0, t.index),\n      d = [].concat(_toConsumableArray(e.tabs.slice(t.index)), _toConsumableArray(s)).find(function (n) {\n    return r.includes(n);\n  });\n  return d ? _objectSpread(_objectSpread({}, e), {}, {\n    selectedIndex: e.tabs.indexOf(d)\n  }) : e;\n}), _defineProperty(_ne, 1, function _(e, t) {\n  return e.tabs.includes(t.tab) ? e : _objectSpread(_objectSpread({}, e), {}, {\n    tabs: Q([].concat(_toConsumableArray(e.tabs), [t.tab]), function (r) {\n      return r.current;\n    })\n  });\n}), _defineProperty(_ne, 2, function _(e, t) {\n  return _objectSpread(_objectSpread({}, e), {}, {\n    tabs: Q(e.tabs.filter(function (r) {\n      return r !== t.tab;\n    }), function (r) {\n      return r.current;\n    })\n  });\n}), _defineProperty(_ne, 3, function _(e, t) {\n  return e.panels.includes(t.panel) ? e : _objectSpread(_objectSpread({}, e), {}, {\n    panels: [].concat(_toConsumableArray(e.panels), [t.panel])\n  });\n}), _defineProperty(_ne, 4, function _(e, t) {\n  return _objectSpread(_objectSpread({}, e), {}, {\n    panels: e.panels.filter(function (r) {\n      return r !== t.panel;\n    })\n  });\n}), _defineProperty(_ne, 5, function _(e) {\n  return _objectSpread({}, e);\n}), _ne),\n    N = O(null);\nN.displayName = \"TabsSSRContext\";\n\nfunction B(e) {\n  var t = k(N);\n\n  if (t === null) {\n    var r = new Error(\"<\".concat(e, \" /> is missing a parent <Tab.Group /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(r, B), r;\n  }\n\n  return t;\n}\n\nvar K = O(null);\nK.displayName = \"TabsDataContext\";\n\nfunction C(e) {\n  var t = k(K);\n\n  if (t === null) {\n    var r = new Error(\"<\".concat(e, \" /> is missing a parent <Tab.Group /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(r, C), r;\n  }\n\n  return t;\n}\n\nvar $ = O(null);\n$.displayName = \"TabsActionsContext\";\n\nfunction z(e) {\n  var t = k($);\n\n  if (t === null) {\n    var r = new Error(\"<\".concat(e, \" /> is missing a parent <Tab.Group /> component.\"));\n    throw Error.captureStackTrace && Error.captureStackTrace(r, z), r;\n  }\n\n  return t;\n}\n\nfunction ae(e, t) {\n  return J(t.type, ne, e, t);\n}\n\nvar le = Y,\n    oe = v(function (t, r) {\n  var _t$defaultIndex = t.defaultIndex,\n      s = _t$defaultIndex === void 0 ? 0 : _t$defaultIndex,\n      _t$vertical = t.vertical,\n      f = _t$vertical === void 0 ? !1 : _t$vertical,\n      _t$manual = t.manual,\n      d = _t$manual === void 0 ? !1 : _t$manual,\n      n = t.onChange,\n      _t$selectedIndex = t.selectedIndex,\n      l = _t$selectedIndex === void 0 ? null : _t$selectedIndex,\n      P = _objectWithoutProperties(t, _excluded);\n\n  var u = f ? \"vertical\" : \"horizontal\",\n      y = d ? \"manual\" : \"auto\";\n\n  var c = F(r),\n      _Z = Z(ae, {\n    selectedIndex: l != null ? l : s,\n    tabs: [],\n    panels: []\n  }),\n      _Z2 = _slicedToArray(_Z, 2),\n      p = _Z2[0],\n      o = _Z2[1],\n      b = E(function () {\n    return {\n      selectedIndex: p.selectedIndex\n    };\n  }, [p.selectedIndex]),\n      g = W(n || function () {}),\n      L = W(p.tabs),\n      x = E(function () {\n    return _objectSpread({\n      orientation: u,\n      activation: y\n    }, p);\n  }, [u, y, p]),\n      R = W(p.selectedIndex),\n      h = E(function () {\n    return {\n      registerTab: function registerTab(i) {\n        return o({\n          type: 1,\n          tab: i\n        }), function () {\n          return o({\n            type: 2,\n            tab: i\n          });\n        };\n      },\n      registerPanel: function registerPanel(i) {\n        return o({\n          type: 3,\n          panel: i\n        }), function () {\n          return o({\n            type: 4,\n            panel: i\n          });\n        };\n      },\n      forceRerender: function forceRerender() {\n        o({\n          type: 5\n        });\n      },\n      change: function change(i) {\n        R.current !== i && g.current(i), R.current = i, o({\n          type: 0,\n          index: i\n        });\n      }\n    };\n  }, [o]);\n\n  j(function () {\n    o({\n      type: 0,\n      index: l != null ? l : s\n    });\n  }, [l]);\n  var H = G({\n    tabs: [],\n    panels: []\n  }),\n      w = {\n    ref: c\n  };\n  return _.createElement(N.Provider, {\n    value: H\n  }, _.createElement($.Provider, {\n    value: h\n  }, _.createElement(K.Provider, {\n    value: x\n  }, x.tabs.length <= 0 && _.createElement(te, {\n    onFocus: function onFocus() {\n      var i, I;\n\n      var _iterator = _createForOfIteratorHelper(L.current),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var D = _step.value;\n          if (((i = D.current) == null ? void 0 : i.tabIndex) === 0) return (I = D.current) == null || I.focus(), !0;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return !1;\n    }\n  }), M({\n    ourProps: w,\n    theirProps: P,\n    slot: b,\n    defaultTag: le,\n    name: \"Tabs\"\n  }))));\n}),\n    se = \"div\",\n    ie = v(function (t, r) {\n  var _C = C(\"Tab.List\"),\n      s = _C.orientation,\n      f = _C.selectedIndex,\n      d = F(r);\n\n  return M({\n    ourProps: {\n      ref: d,\n      role: \"tablist\",\n      \"aria-orientation\": s\n    },\n    theirProps: t,\n    slot: {\n      selectedIndex: f\n    },\n    defaultTag: se,\n    name: \"Tabs.List\"\n  });\n}),\n    ue = \"button\",\n    ce = v(function (t, r) {\n  var I, D;\n\n  var s = \"headlessui-tabs-tab-\".concat(q()),\n      _C2 = C(\"Tab\"),\n      f = _C2.orientation,\n      d = _C2.activation,\n      n = _C2.selectedIndex,\n      l = _C2.tabs,\n      P = _C2.panels,\n      u = z(\"Tab\"),\n      y = B(\"Tab\"),\n      c = G(null),\n      p = F(c, r, function (a) {\n    !a || u.forceRerender();\n  });\n\n  j(function () {\n    return u.registerTab(c);\n  }, [u, c]);\n  var o = y.current.tabs.indexOf(s);\n  o === -1 && (o = y.current.tabs.push(s) - 1);\n  var b = l.indexOf(c);\n  b === -1 && (b = o);\n  var g = b === n,\n      L = U(function (a) {\n    var A = l.map(function (X) {\n      return X.current;\n    }).filter(Boolean);\n\n    if (a.key === T.Space || a.key === T.Enter) {\n      a.preventDefault(), a.stopPropagation(), u.change(b);\n      return;\n    }\n\n    switch (a.key) {\n      case T.Home:\n      case T.PageUp:\n        return a.preventDefault(), a.stopPropagation(), S(A, m.First);\n\n      case T.End:\n      case T.PageDown:\n        return a.preventDefault(), a.stopPropagation(), S(A, m.Last);\n    }\n\n    if (J(f, {\n      vertical: function vertical() {\n        if (a.key === T.ArrowUp) return S(A, m.Previous | m.WrapAround);\n        if (a.key === T.ArrowDown) return S(A, m.Next | m.WrapAround);\n      },\n      horizontal: function horizontal() {\n        if (a.key === T.ArrowLeft) return S(A, m.Previous | m.WrapAround);\n        if (a.key === T.ArrowRight) return S(A, m.Next | m.WrapAround);\n      }\n    })) return a.preventDefault();\n  }),\n      x = U(function () {\n    var a;\n    (a = c.current) == null || a.focus();\n  }),\n      R = U(function () {\n    var a;\n    (a = c.current) == null || a.focus(), u.change(b);\n  }),\n      h = U(function (a) {\n    a.preventDefault();\n  }),\n      H = E(function () {\n    return {\n      selected: g\n    };\n  }, [g]),\n      w = t,\n      i = {\n    ref: p,\n    onKeyDown: L,\n    onFocus: d === \"manual\" ? x : R,\n    onMouseDown: h,\n    onClick: R,\n    id: s,\n    role: \"tab\",\n    type: ee(t, c),\n    \"aria-controls\": (D = (I = P[b]) == null ? void 0 : I.current) == null ? void 0 : D.id,\n    \"aria-selected\": g,\n    tabIndex: g ? 0 : -1\n  };\n  return M({\n    ourProps: i,\n    theirProps: w,\n    slot: H,\n    defaultTag: ue,\n    name: \"Tabs.Tab\"\n  });\n}),\n    pe = \"div\",\n    de = v(function (t, r) {\n  var _C3 = C(\"Tab.Panels\"),\n      s = _C3.selectedIndex,\n      f = F(r),\n      d = E(function () {\n    return {\n      selectedIndex: s\n    };\n  }, [s]);\n\n  return M({\n    ourProps: {\n      ref: f\n    },\n    theirProps: t,\n    slot: d,\n    defaultTag: pe,\n    name: \"Tabs.Panels\"\n  });\n}),\n    fe = \"div\",\n    be = V.RenderStrategy | V.Static,\n    Te = v(function (t, r) {\n  var x, R;\n\n  var _C4 = C(\"Tab.Panel\"),\n      s = _C4.selectedIndex,\n      f = _C4.tabs,\n      d = _C4.panels,\n      n = z(\"Tab.Panel\"),\n      l = B(\"Tab.Panel\"),\n      P = \"headlessui-tabs-panel-\".concat(q()),\n      u = G(null),\n      y = F(u, r, function (h) {\n    !h || n.forceRerender();\n  });\n\n  j(function () {\n    return n.registerPanel(u);\n  }, [n, u]);\n  var c = l.current.panels.indexOf(P);\n  c === -1 && (c = l.current.panels.push(P) - 1);\n  var p = d.indexOf(u);\n  p === -1 && (p = c);\n  var o = p === s,\n      b = E(function () {\n    return {\n      selected: o\n    };\n  }, [o]),\n      g = t,\n      L = {\n    ref: y,\n    id: P,\n    role: \"tabpanel\",\n    \"aria-labelledby\": (R = (x = f[p]) == null ? void 0 : x.current) == null ? void 0 : R.id,\n    tabIndex: o ? 0 : -1\n  };\n  return M({\n    ourProps: L,\n    theirProps: g,\n    slot: b,\n    defaultTag: fe,\n    features: be,\n    visible: o,\n    name: \"Tabs.Panel\"\n  });\n}),\n    we = Object.assign(ce, {\n  Group: oe,\n  List: ie,\n  Panels: de,\n  Panel: Te\n});\nexport { we as Tab };","map":null,"metadata":{},"sourceType":"module"}